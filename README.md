Домашнее задание к занятию "5.5. Оркестрация кластером Docker контейнеров на примере Docker Swarm"
___
Задание 1
___

- В режиме replicated реплики сервисов копируются на заданное количество нод в кластере и не представлены на каждой ноде в нем. Выбор нод, на которых находятся репилики, происходит автоматически, но можно указывать желаемую роль ноды, на которой должна находиться реплика. В режиме global реплики сервисов находятся на каждой ноде кластера.  

- Для выбора лидера используется Raft алгоритм с использованием голосования. У каждой ноды менеджера есть внутренний таймер, устанавливаемый случайным образом в определенном промежутке значений. Текущий лидер отправляет пакеты остальным менеджерам, сообщая о своей доступности. Если в течение заданного таймера нода не получает пакет от действующего лидера, она становится кандидатом и отправляет остальным участникам соответсвующий пакет и голосует за себя. Остальные ноды при получении пакета от кандидата отправляют ему свой голос. В случае, если большинство нод проголосовало, кандидат становится текущим лидером. Если не удалось получить большинство голосов, таймеры обновляются и появляется новый кандидат.

- Overlay сеть это логическая сеть, которая создается поверх имеющихся сетей на хосте и позволяет общаться в зашиврованном виде контейнерам, которые подключены к этой сети. Docker обрабатывает маршрутизацию пакетов между нужными хостами Docker демона и контейнерами.
  
___
Задание 2
___

Создать ваш первый Docker Swarm кластер в Яндекс.Облаке  
![docker node ls](/images/hw-5.5-2.png)

___
Задание 3
___

Создать ваш первый, готовый к боевой эксплуатации кластер мониторинга, состоящий из стека микросервисов.  
![docker node ls](/images/hw-5.5-3.png)

___
Задание 4
___

Флаг `--autolock` обеспечивает защиту ключей шифрования TLS и Raft логов, позволяя взять их под свой контроль и требовать ручную разблокировку менеджеров Docker Swarm. С данной защитой при перезапуске Docker будет требоваться разблокировка Swarm'a с помощью сгенерированного ключа шифрования. 